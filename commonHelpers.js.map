{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"45130160-d43b37f420c01d8101f282345\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error('Failed to fetch images');\n  }\n\n  const data = await response.json();\n  return data.hits;\n}\n","export function renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = '';\n\n  const markup = images.map(image => {\n    return `\n      <div class=\"photo-card\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes:</b> ${image.likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views:</b> ${image.views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments:</b> ${image.comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads:</b> ${image.downloads}\n          </p>\n        </div>\n      </div>\n    `;\n  }).join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n","\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderImages } from \"./js/render-functions\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.form');\n  const input = form.querySelector('input[name=\"query\"]');\n  const loader = document.querySelector('.loader');\n\n  let lightbox = null;\n\n  form.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    const query = input.value.trim();\n\n    if (query === '') {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please enter a search query.',\n      });\n      return;\n    }\n\n    loader.style.display = 'block';\n\n    try {\n      const images = await fetchImages(query);\n      loader.style.display = 'none';\n\n      if (images.length === 0) {\n        iziToast.error({\n          title: 'No Results',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        renderImages(images);\n        if (lightbox) {\n          lightbox.refresh();\n        } else {\n          lightbox = new SimpleLightbox('.gallery a', {});\n        }\n      }\n    } catch (error) {\n      loader.style.display = 'none';\n      iziToast.error({\n        title: 'Error',\n        message: 'Something went wrong. Please try again later.',\n      });\n    } finally {\n      input.value = '';\n    }\n  });\n});\n\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","renderImages","images","gallery","markup","image","form","input","loader","lightbox","event","iziToast","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAE/DE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAI1C,OADa,MAAMA,EAAS,QAChB,IACd,CCbO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAASF,EAAO,IAAIG,GACjB;AAAA;AAAA,mBAEQA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,4BAIhCA,EAAM,KAAK;AAAA;AAAA;AAAA,4BAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,+BAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,gCAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK5C,EAAE,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAM,CAChD,CCrBA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,qBAAqB,EAChDE,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,KAEfH,EAAK,iBAAiB,SAAU,MAAOI,GAAU,CAC/CA,EAAM,eAAc,EACpB,MAAMZ,EAAQS,EAAM,MAAM,KAAI,EAE9B,GAAIT,IAAU,GAAI,CAChBa,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACjB,CAAO,EACD,MACD,CAEDH,EAAO,MAAM,QAAU,QAEvB,GAAI,CACF,MAAMN,EAAS,MAAML,EAAYC,CAAK,EACtCU,EAAO,MAAM,QAAU,OAEnBN,EAAO,SAAW,EACpBS,EAAS,MAAM,CACb,MAAO,aACP,QAAS,0EACnB,CAAS,GAEDV,EAAaC,CAAM,EACfO,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIG,EAAe,aAAc,CAAE,CAAA,EAGnD,MAAe,CACdJ,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+CACjB,CAAO,CACP,QAAc,CACRJ,EAAM,MAAQ,EACf,CACL,CAAG,CACH,CAAC"}